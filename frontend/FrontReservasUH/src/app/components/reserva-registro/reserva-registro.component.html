<div class="form-wrapper">
  <form #reservaForm="ngForm" (ngSubmit)="reservar(reservaForm)" novalidate>

    <ion-item class="input-container">
      <ion-label>Sede:</ion-label>
      <select name="sede" [(ngModel)]="reserva.sede" required>
        <option value="" disabled selected>Seleccione sede</option>
        <option *ngFor="let s of sedes" [value]="s">{{ s }}</option>
      </select>
    </ion-item>

    <ion-item class="input-container">
      <ion-label>Motivo:</ion-label>
      <select name="motivo" [(ngModel)]="reserva.motivo" required>
        <option value="" disabled selected>Seleccione motivo</option>
        <option *ngFor="let m of motivos" [value]="m">{{ m }}</option>
      </select>
    </ion-item>

    <ion-item class="input-container">
      <ion-label>Fecha:</ion-label>
      <input type="date" name="fecha" [(ngModel)]="reserva.fecha" required [class.input-error]="reserva.fecha && !esFechaValida(reserva.fecha)" />
    </ion-item>
    <div *ngIf="reserva.fecha && !esFechaValida(reserva.fecha)" class="mensaje-error">
      Fecha permitida hasta más de 5 años y no pasada.
    </div>

    <ion-item class="input-container">
      <ion-label>Hora:</ion-label>
      <input type="time" name="hora" [(ngModel)]="reserva.hora" required [class.input-error]="reserva.hora && !esHoraValida(reserva.hora)" />
    </ion-item>
    <div *ngIf="reserva.hora && !esHoraValida(reserva.hora)" class="mensaje-error">
      Hora fuera del rango permitido (06:00 a 19:59).
    </div>

    <div class="buttons-container">
      <ion-button
        type="submit"
        class="btn btn-guardar"
        [disabled]="reservaForm.invalid || !esFechaValida(reserva.fecha) || !esHoraValida(reserva.hora)">
        Reservar
      </ion-button>
    </div>
  </form>
</div>
